<!DOCTYPE html>
<html lang="ar" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ© - Ø¹Ø§Ù„Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ù…Ù…ØªØ¹</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Tajawal", sans-serif;
        background: linear-gradient(
          135deg,
          #ff6b35 0%,
          #f7931e 50%,
          #ff9e53 100%
        );
        min-height: 100vh;
        overflow-x: hidden;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
        animation: fadeInDown 1s ease-out;
      }

      h1 {
        font-size: 3em;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        margin-bottom: 10px;
      }

      .subtitle {
        font-size: 1.5em;
        opacity: 0.9;
      }

      .equation-builder {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        animation: fadeInUp 1s ease-out 0.3s both;
      }

      .input-group {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      input[type="number"] {
        width: 80px;
        padding: 10px;
        border: 3px solid #ff6b35;
        border-radius: 10px;
        font-size: 1.2em;
        text-align: center;
        transition: all 0.3s ease;
      }

      input[type="number"]:focus {
        transform: scale(1.1);
        outline: none;
        box-shadow: 0 0 15px rgba(255, 107, 53, 0.5);
      }

      .equation-display {
        font-size: 2em;
        color: #ff6b35;
        text-align: center;
        margin: 20px 0;
        padding: 20px;
        background: #fff3e0;
        border-radius: 15px;
        font-weight: bold;
      }

      .solve-btn {
        background: linear-gradient(45deg, #ff6b35, #ff9e53);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.3em;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
      }

      .solve-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(255, 107, 53, 0.6);
      }

      .steps-container {
        display: grid;
        gap: 20px;
        margin-top: 30px;
      }

      .step {
        background: white;
        padding: 20px;
        border-radius: 15px;
        border-left: 5px solid #ff6b35;
        opacity: 0;
        transform: translateX(-50px);
        transition: all 0.5s ease;
        font-size: 1.2em;
        line-height: 1.8;
      }

      .step.show {
        opacity: 1;
        transform: translateX(0);
      }

      .step-number {
        display: inline-block;
        background: #ff6b35;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        margin-right: 10px;
        font-weight: bold;
      }

      .step h4 {
        color: #ff6b35;
        margin-bottom: 10px;
        font-size: 1.3em;
        border-bottom: 2px solid #ff6b35;
        padding-bottom: 5px;
      }

      .graph-container {
        background: white;
        border-radius: 20px;
        padding: 20px;
        margin-top: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        height: 500px;
        position: relative;
        overflow: hidden;
        cursor: grab;
      }

      .graph-container:active {
        cursor: grabbing;
      }

      #graph {
        width: 100%;
        height: 100%;
      }

      .zoom-controls {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        gap: 5px;
        z-index: 10;
      }

      .zoom-btn {
        background: #ff6b35;
        color: white;
        border: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .zoom-btn:hover {
        background: #ff9e53;
        transform: scale(1.1);
      }

      .interactive-demo {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 30px;
        margin-top: 30px;
        text-align: center;
      }

      .demo-controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .demo-btn {
        background: #ff6b35;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .demo-btn:hover {
        background: #ff9e53;
        transform: scale(1.05);
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      .vertex-highlight {
        position: absolute;
        width: 10px;
        height: 10px;
        background: #ff0000;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        box-shadow: 0 0 10px #ff0000;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2em;
        }

        .input-group {
          flex-direction: column;
        }

        .equation-display {
          font-size: 1.5em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸ¯ Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©</h1>
        <p class="subtitle">ØªØ¹Ù„Ù… Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø© ÙˆØªÙØ§Ø¹Ù„ÙŠØ©!</p>
      </header>

      <div class="equation-builder">
        <h2 style="text-align: center; color: #ff6b35; margin-bottom: 20px">
          ğŸ”§ Ø§ØµÙ†Ø¹ Ù…Ø¹Ø§Ø¯Ù„ØªÙƒ Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©
        </h2>

        <div class="input-group">
          <input type="number" id="a" placeholder="a" value="1" />
          <span style="font-size: 1.5em">xÂ²</span>
          <input type="number" id="b" placeholder="b" value="5" />
          <span style="font-size: 1.5em">x</span>
          <input type="number" id="c" placeholder="c" value="6" />
          <span style="font-size: 1.5em">= 0</span>
        </div>

        <div class="equation-display" id="equation">xÂ² + 5x + 6 = 0</div>

        <div style="text-align: center">
          <button class="solve-btn" onclick="solveEquation()">
            ğŸš€ Ø§Ø­Ø³Ø¨ ÙˆØ§Ø´Ø±Ø­ Ù„ÙŠ
          </button>
        </div>
      </div>

      <div class="steps-container" id="steps"></div>

      <div class="graph-container">
        <h3 style="color: #ff6b35; margin-bottom: 10px">
          ğŸ“Š Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
        </h3>
        <div class="zoom-controls">
          <button class="zoom-btn" onclick="zoomIn()">+</button>
          <button class="zoom-btn" onclick="zoomOut()">-</button>
        </div>
        <canvas id="graph"></canvas>
      </div>

      <div class="interactive-demo">
        <h3 style="color: #ff6b35; margin-bottom: 15px">ğŸ® Ø£Ù…Ø«Ù„Ø© ØªÙØ§Ø¹Ù„ÙŠØ©</h3>
        <p>Ø¬Ø±Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:</p>
        <div class="demo-controls">
          <button class="demo-btn" onclick="loadExample(1, -5, 6)">
            xÂ² - 5x + 6 = 0
          </button>
          <button class="demo-btn" onclick="loadExample(2, 3, -5)">
            2xÂ² + 3x - 5 = 0
          </button>
          <button class="demo-btn" onclick="loadExample(1, 2, 1)">
            xÂ² + 2x + 1 = 0
          </button>
          <button class="demo-btn" onclick="loadExample(1, 0, -9)">
            xÂ² - 9 = 0
          </button>
        </div>
      </div>
    </div>

    <script>
      let currentScale = 40;
      let offsetX = 0;
      let offsetY = 0;
      let isDragging = false;
      let startX, startY;

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
      document.getElementById("a").addEventListener("input", updateEquation);
      document.getElementById("b").addEventListener("input", updateEquation);
      document.getElementById("c").addEventListener("input", updateEquation);

      function updateEquation() {
        const a = document.getElementById("a").value || "1";
        const b = document.getElementById("b").value || "0";
        const c = document.getElementById("c").value || "0";

        let equation = "";

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ a
        if (a != "0") {
          if (a == "1") {
            equation += "xÂ²";
          } else if (a == "-1") {
            equation += "-xÂ²";
          } else {
            equation += a + "xÂ²";
          }
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ b
        if (b != "0") {
          if (equation) {
            if (b > 0) {
              equation += " + ";
            } else {
              equation += " - ";
            }
          } else if (b < 0) {
            equation += "-";
          }

          if (Math.abs(b) == "1") {
            equation += "x";
          } else {
            equation += Math.abs(b) + "x";
          }
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ c
        if (c != "0") {
          if (equation) {
            if (c > 0) {
              equation += " + ";
            } else {
              equation += " - ";
            }
          } else if (c < 0) {
            equation += "-";
          }
          equation += Math.abs(c);
        }

        if (!equation) equation = "0";

        document.getElementById("equation").textContent = equation + " = 0";
      }

      function solveEquation() {
        const a = parseFloat(document.getElementById("a").value) || 1;
        const b = parseFloat(document.getElementById("b").value) || 0;
        const c = parseFloat(document.getElementById("c").value) || 0;

        const steps = document.getElementById("steps");
        steps.innerHTML = "";

        // Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©
        addStep(
          "1",
          `<h4>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©</h4><b>${formatEquation(a, b, c)} = 0</b>`
        );

        // Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø­Ø³ discriminant
        const discriminant = b * b - 4 * a * c;
        addStep(
          "2",
          `<h4>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù…ÙŠØ² (Î”)</h4>
                <b>Î” = bÂ² - 4ac</b><br>
                <b>Î” = (${b})Â² - 4(${a})(${c})</b><br>
                <b>Î” = ${b * b} - ${4 * a * c} = ${discriminant}</b>`
        );

        // Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²
        if (discriminant > 0) {
          addStep(
            "3",
            `<h4>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²</h4>Ø¨Ù…Ø§ Ø£Ù† Î” > 0ØŒ ÙØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„Ù‡Ø§ Ø¬Ø°Ø±Ø§Ù† Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù† Ù…Ø®ØªÙ„ÙØ§Ù†`
          );
        } else if (discriminant === 0) {
          addStep(
            "3",
            `<h4>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²</h4>Ø¨Ù…Ø§ Ø£Ù† Î” = 0ØŒ ÙØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„Ù‡Ø§ Ø¬Ø°Ø± Ù…Ø²Ø¯ÙˆØ¬`
          );
        } else {
          addStep(
            "3",
            `<h4>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù…ÙŠØ²</h4>Ø¨Ù…Ø§ Ø£Ù† Î” < 0ØŒ ÙØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„ÙŠØ³ Ù„Ù‡Ø§ Ø¬Ø°ÙˆØ± Ø­Ù‚ÙŠÙ‚ÙŠØ©`
          );
        }

        // Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø°ÙˆØ±
        if (discriminant >= 0) {
          const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
          const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);

          addStep(
            "4",
            `<h4>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø°ÙˆØ±</h4>Ù†Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø°ÙˆØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙŠØºØ©:<br>
                    <b>x = [-b Â± âˆšÎ”] / 2a</b><br>
                    <b>xâ‚ = [${-b} + âˆš${discriminant}] / ${
              2 * a
            } = ${x1.toFixed(3)}</b><br>
                    <b>xâ‚‚ = [${-b} - âˆš${discriminant}] / ${
              2 * a
            } = ${x2.toFixed(3)}</b>`
          );

          // Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø±Ø£Ø³ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ÙƒØ§ÙØ¦
          const vertexX = -b / (2 * a);
          const vertexY = a * vertexX * vertexX + b * vertexX + c;
          addStep(
            "5",
            `<h4>Ø±Ø£Ø³ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ÙƒØ§ÙØ¦</h4>
                    <b>Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠ Ø§Ù„Ø³ÙŠÙ†ÙŠ = -b/2a = ${vertexX.toFixed(3)}</b><br>
                    <b>Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠ Ø§Ù„ØµØ§Ø¯ÙŠ = ${vertexY.toFixed(3)}</b>`
          );
        }

        drawGraph(a, b, c);
      }

      function addStep(number, content) {
        const step = document.createElement("div");
        step.className = "step";
        step.innerHTML = `<span class="step-number">${number}</span>${content}`;
        document.getElementById("steps").appendChild(step);

        setTimeout(() => step.classList.add("show"), number * 500);
      }

      function formatEquation(a, b, c) {
        let equation = "";

        if (a != "0") {
          equation += (a == "1" ? "" : a == "-1" ? "-" : a) + "xÂ²";
        }

        if (b != "0") {
          if (equation && b > 0) equation += " + ";
          if (b < 0) equation += " - ";
          equation += (Math.abs(b) == "1" ? "" : Math.abs(b)) + "x";
        }

        if (c != "0") {
          if (equation && c > 0) equation += " + ";
          if (c < 0) equation += " - ";
          equation += Math.abs(c);
        }

        return equation || "0";
      }

      function zoomIn() {
        currentScale *= 1.2;
        const a = parseFloat(document.getElementById("a").value) || 1;
        const b = parseFloat(document.getElementById("b").value) || 0;
        const c = parseFloat(document.getElementById("c").value) || 0;
        drawGraph(a, b, c);
      }

      function zoomOut() {
        currentScale /= 1.2;
        const a = parseFloat(document.getElementById("a").value) || 1;
        const b = parseFloat(document.getElementById("b").value) || 0;
        const c = parseFloat(document.getElementById("c").value) || 0;
        drawGraph(a, b, c);
      }

      function drawGraph(a, b, c) {
        const canvas = document.getElementById("graph");
        const ctx = canvas.getContext("2d");

        // Ø¶Ø¨Ø· Ø­Ø¬Ù… Ø§Ù„Ù„ÙˆØ­Ø©
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        const width = canvas.width;
        const height = canvas.height;
        const centerX = width / 2 + offsetX;
        const centerY = height / 2 + offsetY;
        const scale = currentScale;

        // Ù…Ø³Ø­ Ø§Ù„Ù„ÙˆØ­Ø©
        ctx.clearRect(0, 0, width, height);

        // Ø±Ø³Ù… Ø§Ù„Ù…Ø­Ø§ÙˆØ±
        ctx.lineWidth = 2;

        // Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø³ÙŠÙ†ÙŠ (Ø£Ø²Ø±Ù‚)
        ctx.strokeStyle = "#0066ff";
        ctx.beginPath();
        ctx.moveTo(0, centerY);
        ctx.lineTo(width, centerY);
        ctx.stroke();

        // Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„ØµØ§Ø¯ÙŠ (Ø£Ø­Ù…Ø±)
        ctx.strokeStyle = "#0066ff";
        ctx.beginPath();
        ctx.moveTo(centerX, 0);
        ctx.lineTo(centerX, height);
        ctx.stroke();

        // Ø±Ø³Ù… Ø´Ø¨ÙƒØ©
        ctx.strokeStyle = "#f0f0f0";
        ctx.lineWidth = 1;
        for (let i = centerX % scale; i < width; i += scale) {
          ctx.beginPath();
          ctx.moveTo(i, 0);
          ctx.lineTo(i, height);
          ctx.stroke();
        }
        for (let i = centerY % scale; i < height; i += scale) {
          ctx.beginPath();
          ctx.moveTo(0, i);
          ctx.lineTo(width, i);
          ctx.stroke();
        }

        // Ø±Ø³Ù… Ø§Ù„Ù…Ù†Ø­Ù†Ù‰
        ctx.strokeStyle = "#ff6b35";
        ctx.lineWidth = 3;
        ctx.beginPath();

        let firstPoint = true;
        for (let px = 0; px < width; px++) {
          const x = (px - centerX) / scale;
          const y = a * x * x + b * x + c;
          const py = centerY - y * scale;

          if (firstPoint) {
            ctx.moveTo(px, py);
            firstPoint = false;
          } else {
            ctx.lineTo(px, py);
          }
        }
        ctx.stroke();

        // Ø±Ø³Ù… Ø§Ù„Ø¬Ø°ÙˆØ±
        const discriminant = b * b - 4 * a * c;
        if (discriminant >= 0) {
          const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
          const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);

          // Ø±Ø³Ù… Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ø£ÙˆÙ„
          drawPoint(ctx, centerX + x1 * scale, centerY, "#00ff00", 5);

          // Ø±Ø³Ù… Ø§Ù„Ø¬Ø°Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ
          drawPoint(ctx, centerX + x2 * scale, centerY, "#00ff00", 5);
        }

        // Ø±Ø£Ø³ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ÙƒØ§ÙØ¦
        const vertexX = -b / (2 * a);
        const vertexY = a * vertexX * vertexX + b * vertexX + c;
        drawPoint(
          ctx,
          centerX + vertexX * scale,
          centerY - vertexY * scale,
          "#ff0000",
          7
        );
      }

      function drawPoint(ctx, x, y, color, size) {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(x, y, size, 0, 2 * Math.PI);
        ctx.fill();

        // ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙˆÙ‡Ø¬
        ctx.shadowColor = color;
        ctx.shadowBlur = 10;
        ctx.fill();
        ctx.shadowBlur = 0;
      }

      function loadExample(a, b, c) {
        document.getElementById("a").value = a;
        document.getElementById("b").value = b;
        document.getElementById("c").value = c;
        updateEquation();
        solveEquation();
      }

      // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
      const canvas = document.getElementById("graph");
      const graphContainer = document.querySelector(".graph-container");

      graphContainer.addEventListener("mousedown", (e) => {
        isDragging = true;
        startX = e.clientX - offsetX;
        startY = e.clientY - offsetY;
        graphContainer.style.cursor = "grabbing";
      });

      document.addEventListener("mousemove", (e) => {
        if (isDragging) {
          offsetX = e.clientX - startX;
          offsetY = e.clientY - startY;
          const a = parseFloat(document.getElementById("a").value) || 1;
          const b = parseFloat(document.getElementById("b").value) || 0;
          const c = parseFloat(document.getElementById("c").value) || 0;
          drawGraph(a, b, c);
        }
      });

      document.addEventListener("mouseup", () => {
        isDragging = false;
        graphContainer.style.cursor = "grab";
      });

      // Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ÙŠ
      window.onload = function () {
        updateEquation();
        drawGraph(1, 5, 6);
      };
    </script>
  </body>
</html>
