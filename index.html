<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ุงูุงุฎุชุจุงุฑุงุช ุงูุงููุชุฑูููุฉ</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.x/auth0-spa-js.production.js"></script>


</head>

<body>
  <div class="news-ticker">
    <div class="ticker-text">
      ุชูููู ูุงู: ุฌููุน ุงูุตููููู ุชู ุงุถุงูุฉ ุจุงูู ุงูุฏุฑูุณ ูููุญุฏุฉ ุงูุซุงููุฉ . ุจุงูุชูููู ููุฌููุน!
      &nbsp;๐&nbsp;
      ุชูููู ูุงู: ุฌููุน ุงูุตููููู ุชู ุงุถุงูุฉ ุจุงูู ุงูุฏุฑูุณ ูููุญุฏุฉ ุงูุซุงููุฉ . ุจุงูุชูููู ููุฌููุน!
      &nbsp;๐&nbsp;
      ุชูููู ูุงู: ุฌููุน ุงูุตููููู ุชู ุงุถุงูุฉ ุจุงูู ุงูุฏุฑูุณ ูููุญุฏุฉ ุงูุซุงููุฉ . ุจุงูุชูููู ููุฌููุน!

      &nbsp;๐&nbsp;
    </div>
  </div>
  <header style="margin-top: 30px " class="main-header">
    <div class="header-content">
      <a href="index.html" class="logo-link">
        <span class="logo-emoji">๐</span>
        <span class="logo-text">ุงูุงุฎุชุจุงุฑุงุช ุงูุงููุชุฑูููุฉ</span>
      </a>

      <a href="login_teacher.html" class="teacher_login">
        <span class="teacher-icon">๐จ๐ผโ๐ป</span> ุฏุฎูู ุงููุนูููู
      </a>
    </div>
    <div id="errorMessage" class="error" style="display: none; color: red; margin-top: 10px;"></div>
  </header> <!-- End of main header -->

  <!-- START: News Ticker -->

  <!-- END: News Ticker -->


  <!-- Hero Section -->
  <header class="hero">
    <h1>ุฃููุงู ุจูู ูู ูููุน ุงูุงุฎุชุจุงุฑุงุช ุงูุงููุชุฑูููุฉ</h1>
    <p>ูุฏุฑุณุฉ ุฒูุฏ ุจู ุญุงุฑุซุฉ ุงูุงุณุงุณูุฉ ููุจููู</p>
  </header>
  <!-- Main Container with Cards -->
  <div class="container">
    <h2 class="h2container">ุงูุตู ุงูุฏุฑุงุณู</h2>
    <div class="cards">
      <a class="card-link" href="page/7th/7th.html" style="display: block; text-decoration: none;">
        <div class="card" data-class="ุงูุตู ุงูุณุงุจุน">
          <h3>ุงูุตู ุงูุณุงุจุน </h3>
          <p> ุงููุฑ ููุชูุงุตูู </p>
        </div>
      </a>
      <a class="card-link" href="page/8th/8th.html" style="display: block; text-decoration: none;">
        <div class="card" data-class="ุงูุตู ุงูุซุงูู">
          <h3>ุงูุตู ุงูุซุงูู</h3>
          <p> ุงููุฑ ููุชูุงุตูู </p>
        </div>
      </a>
      <a class="card-link" href="page/9th.html" style="display: block; text-decoration: none;">
        <div class="card" data-class="ุงูุตู ุงูุชุงุณุน">
          <h3>ุงูุตู ุงูุชุงุณุน</h3>
          <p> ุงููุฑ ููุชูุงุตูู </p>
        </div>
      </a>
    </div>
  </div>
  <footer>
    ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ Teacher Osama Omar
  </footer>

  <script>
    // ุชููุฆุฉ Auth0
    const auth0 = new auth0.WebAuth({
      domain: 'dev-ftgp3cxjvdrj802q.us.auth0.com', // ุงุณุชุจุฏู ุจูุฌุงูู
      clientID: 'PDu8f1IxZKqpDJZkV2XSWP6aOG7x0Fk5', // ุงุณุชุจุฏู ุจูุนุฑู ุงูุนููู
      redirectUri: 'http://localhost:5500/index.html', // ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
      responseType: 'token id_token',
      scope: 'openid profile'
    });

    // ุฏุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
    function login(event) {
      event.preventDefault(); // ููุน ุงูุงูุชูุงู ุงูุงูุชุฑุงุถู ููุฑุงุจุท
      if (!navigator.onLine) {
        document.getElementById('errorMessage').textContent = 'ุฎุทุฃ: ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช.';
        document.getElementById('errorMessage').style.display = 'block';
        return;
      }
      try {
        auth0.authorize(); // ุนุฑุถ ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู ุงูุฎุงุต ุจู Auth0
      } catch (error) {
        document.getElementById('errorMessage').textContent = 'ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎูู: ' + error.message;
        document.getElementById('errorMessage').style.display = 'block';
      }
    }

    // ูุนุงูุฌุฉ ุงูุฑุฏ ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชูุฌูู
    window.onload = function () {
      auth0.parseHash((err, authResult) => {
        if (authResult && authResult.accessToken && authResult.idToken) {
          // ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู
          sessionStorage.setItem('accessToken', authResult.accessToken);
          sessionStorage.setItem('idToken', authResult.idToken);
          window.location.href = 'teacher_dashboard.html'; // ุงูุงูุชูุงู ุฅูู ููุญุฉ ุงูุชุญูู
        } else if (err) {
          // ูุดู ุชุณุฌูู ุงูุฏุฎูู
          // ูุง ุชุนุฑุถ ุฑุณุงูุฉ ุงูุฎุทุฃ ููุง ุฅูุง ุฅุฐุง ูุงู ุงูุฎุทุฃ ุฎุงุตูุง ุจู Auth0 ุญููุง
          if (err.error && err.errorDescription) {
            // Only show Auth0 specific errors, not generic "hash missing" errors on page load
            document.getElementById('errorMessage').textContent = 'ุฎุทุฃ ูู ุชุณุฌูู ุงูุฏุฎูู: ' + (err.errorDescription || err.error);
            document.getElementById('errorMessage').style.display = 'block';
          }
        }
      });

      // Check network status on load as well
      if (!navigator.onLine) {
        document.getElementById('errorMessage').textContent = 'ุฎุทุฃ: ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช.';
        document.getElementById('errorMessage').style.display = 'block';
      }
    };
  </script>
</body>

</html>